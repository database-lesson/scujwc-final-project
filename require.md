# 需求文档

# 公共部分设计约定

## 鉴权机制

不论教师、学生、教务员，登陆时获取cookie，每次调用api都要检查cookie合法性（此步骤前端不必考虑直接上传，合法性由后端结合session验证）

## 接口返回json一般格式

```json
{
    "code": 0, // 0-代表成功， 其他代表失败
    "data": {
        ...
    } // 承载业务逻辑的对象
}
```

## 接口返回错误码映射

> 1开头的错误为权限错误
> 2开头的错误为业务逻辑错误，如不是选课时间等异常

+ 0:成功
+ 1001: 授权不合法
+ 2001: 用户名或密码错误
+ 2002: 非选课时间
+ 2003: 选课失败:指定课程的课余量为0

# 学生端

## 课程相关

### 选课部分

#### 获取选课的全部课程列表

##### 需求描述

在**指定选课时间**内可以获取到**全部可选课程的列表**，课程较多采用**分页**获取的机制，需要指定当前是**第几页**以及**每页获取多少的内容**。
如果不是指定的选课时间返回错误码，具体错误码对应具体错误。

#### 尝试选择某课程

##### 需求描述

在**指定选课时间**内选择某个课程，具体错误码对应具体错误。

#### 删除某个已选课程

##### 需求描述

在**指定选课时间**内选择某个课程，删除某个已选课程

### 修课部分

#### 查询本学期课程表

##### 需求描述

获得本学期课程表

#### 查询指定学期课程表

##### 需求描述

获取指定学期课程表

#### 查询指定学期课程修读情况

##### 需求描述

获取指定学期的课程修读情况（包括成绩，是否通过，课程属性，课程号课序号）

## 考试相关

#### 查询指定学期的考试成绩

##### 需求描述

返回指定学期的课程成绩（包括课程信息，分数，考试状态，学期）

#### 查询学生个人信息

##### 需求描述

返回学生个人信息（姓名，学号，手机...）

#### 返回日常信息

##### 需求描述

返回周次，日期，星期，gpa，班级号

# 老师端

## 查阅课表

### 需求描述

查询指定学期的课表，返回课程名，教室，节次

## 获取本学期授课学生名单

### 需求描述

获取本学期课程学生名单

## 获取某课程的授课学生名单

### 需求描述

获取指定课程学生名单(姓名，学号)

## 成绩相关

### 成绩录入

#### 需求描述

录入指定课程的成绩

### 成绩查询

#### 需求描述

查询指定课程的成绩

### 对自己的任意一门课程的成绩查改

# 教务员端

## 生成某个老师在指定学期的课表

## 生成每个老师全部课程的学生名单

## 添加新课程
 
## 删除过时的课程
